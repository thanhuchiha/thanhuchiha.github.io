(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{390:function(e,t,a){"use strict";var n=a(3),l=a.n(n),s=a(856),i=a(841),r=a(839),o=a(840),c=a(430);t.a=function(e){var t=e.size,a=e.isShowModal,n=e.toggleModal,u=e.children,m=e.title,d=e.okText,p=e.cancelText,f=e.clickOK,g=e.showCancel,h=void 0===g||g,v=e.clickCancel,b=(e.extraInfoLabel,e.hiddenFooter);return l.a.createElement(s.a,{isOpen:a,toggle:n,size:t},l.a.createElement(i.a,null,m),l.a.createElement(r.a,null,u),!b&&l.a.createElement(o.a,{className:"justify-content-center"},l.a.createElement(c.a,{color:"danger",onClick:f||n},d||"X\xe1c nh\u1eadn")," ",h&&l.a.createElement(c.a,{color:"secondary",onClick:v||n},p||"H\u1ee7y b\u1ecf")))}},391:function(e,t,a){"use strict";a.d(t,"a",function(){return d});var n=a(9),l=a(10),s=a(71),i=a(70),r=a(72),o=a(3),c=a.n(o),u=a(408),m=a.n(u),d=(a(392),function(e){function t(){return Object(n.a)(this,t),Object(s.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(r.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.totalPages,a=e.initialPage,n=e.forcePage,l=e.pageRangeDisplayed,s=e.onPageChange;return t>0&&c.a.createElement(m.a,{disableInitialCallback:!0,initialPage:a,forcePage:n,previousLabel:c.a.createElement("i",{className:"fa fa-chevron-left","aria-hidden":"true"}),nextLabel:c.a.createElement("i",{className:"fa fa-chevron-right","aria-hidden":"true"}),breakLabel:"...",pageClassName:"page-item",pageLinkClassName:"page-link",previousClassName:"page-item",previousLinkClassName:"page-link",nextClassName:"page-item",nextLinkClassName:"page-link",pageCount:t,marginPagesDisplayed:2,pageRangeDisplayed:l||1,onPageChange:s,containerClassName:"pagination",activeLinkClassName:"active",activeClassName:"active"})}}]),t}(o.Component))},392:function(e,t,a){},393:function(e,t,a){"use strict";a.d(t,"a",function(){return n});var n={defaultTake:10,initialPage:1}},396:function(e,t,a){"use strict";var n=a(3),l=a.n(n),s=a(856),i=a(839),r=a(840),o=a(430);t.a=function(e){var t=e.title,a=e.isShowModal,n=e.clickOk,c=e.toggleModal;return l.a.createElement("div",null,l.a.createElement(s.a,{isOpen:a,toggle:c},l.a.createElement(i.a,null,t||"B\u1ea1n c\xf3 ch\u1eafc ch\u1eafn mu\u1ed1n xo\xe1 tr\u01b0\u1eddng d\u1eef li\u1ec7u n\xe0y?"),l.a.createElement(r.a,null,l.a.createElement(o.a,{color:"danger",onClick:n},"X\xe1c nh\u1eadn")," ",l.a.createElement(o.a,{color:"secondary",onClick:c},"Hu\u1ef7 b\u1ecf"))))}},401:function(e,t,a){"use strict";var n=a(3),l=a.n(n),s=a(574),i=a(573),r=a(431),o=a.n(r),c=a(432),u=function(e){if(Object(c.isEmpty)(e))return l.a.createElement("small",{className:"form-text text-danger"},"This field is required!")},m=function(e){var t=e.disabled,a=e.inputClass,n=e.title,r=e.type,c=e.name,m=e.max,d=e.placeholder,p=e.value,f=e.onChange,g=e.required,h=e.validations,v=e.accept;return h||(h=[]),g&&h.unshift(u),l.a.createElement(s.a,null,l.a.createElement(i.a,{className:"label-input",for:c},l.a.createElement("strong",null,n," ")," ",g&&l.a.createElement("span",{className:"text-danger"},"*")),l.a.createElement(o.a,{disabled:t,id:c,name:c,max:m,value:""+p,onChange:f,type:r,placeholder:d,className:"form-control ".concat(a),validations:h,accept:v}))};m.defaultProps={title:"",type:"text",name:"",placeholder:""},t.a=m},410:function(e,t,a){"use strict";var n=a(3),l=a.n(n),s=a(574),i=a(573),r=function(e){var t=e.title,a=e.placeholder,n=e.name,r=e.value,o=e.options,c=e.onChange,u=(e.inputClass,e.required),m=(e.valueField,e.nameField,e.disabled);return l.a.createElement(s.a,null,l.a.createElement(i.a,{className:"label-input",for:n},l.a.createElement("strong",null,t)),l.a.createElement("select",{onChange:c,className:"form-control",type:"select",name:n,required:u,value:r||"",disabled:m},a&&l.a.createElement("option",null,a),o.map(function(e,t){return l.a.createElement("option",{key:t,value:e.id},e.name)})))};r.defaultProps={title:"",name:"",placeholder:""},t.a=r},854:function(e,t,a){"use strict";a.r(t);var n=a(73),l=a(2),s=a.n(l),i=a(61),r=a(9),o=a(10),c=a(71),u=a(70),m=a(72),d=a(153),p=a(3),f=a.n(p),g=a(152),h=a(405),v=a.n(h),b=a(396),E=a(391),C=a(390),y=a(401),S=a(410),k=a(225),w=a(68),N=a(86),M=a(58),F=a(409),D=a.n(F),O=a(18),x=a(69),j=a(434),P=a(5),q=a.n(P),L=a(116),Q=a.n(L),T=a(384),I=a(504),A={children:q.a.node,className:q.a.string,closeClassName:q.a.string,closeAriaLabel:q.a.string,cssModule:q.a.object,color:q.a.string,fade:q.a.bool,isOpen:q.a.bool,toggle:q.a.func,tag:T.l,transition:q.a.shape(I.a.propTypes),innerRef:q.a.oneOfType([q.a.object,q.a.string,q.a.func])},G={color:"success",isOpen:!0,tag:"div",closeAriaLabel:"Close",fade:!0,transition:Object(j.a)({},I.a.defaultProps,{unmountOnExit:!0})};function U(e){var t=e.className,a=e.closeClassName,n=e.closeAriaLabel,l=e.cssModule,s=e.tag,i=e.color,r=e.isOpen,o=e.toggle,c=e.children,u=e.transition,m=e.fade,d=e.innerRef,p=Object(x.a)(e,["className","closeClassName","closeAriaLabel","cssModule","tag","color","isOpen","toggle","children","transition","fade","innerRef"]),g=Object(T.h)(Q()(t,"alert","alert-"+i,{"alert-dismissible":o}),l),h=Object(T.h)(Q()("close",a),l),v=Object(j.a)({},I.a.defaultProps,u,{baseClass:m?u.baseClass:"",timeout:m?u.timeout:0});return f.a.createElement(I.a,Object(O.a)({},p,v,{tag:s,className:g,in:r,role:"alert",innerRef:d}),o?f.a.createElement("button",{type:"button",className:h,"aria-label":n,onClick:o},f.a.createElement("span",{"aria-hidden":"true"},"\xd7")):null,c)}U.propTypes=A,U.defaultProps=G;var R=U,z=a(856),_=a(841),B=a(839),J=a(574),V=a(430),H=a(428),X=a(429),K=a(842),Y=a(393),W=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).onModelChange=function(e){var t=e.target.name,n=e.target.value.trim(),l=Object.assign({},a.state.item);l[t]=n,a.setState({item:l})},a.toggleModalInfo=function(e,t){a.setState(function(a){return{isShowInfoModal:!a.isShowInfoModal,item:e||{},formTitle:t}})},a.toggleStatusUpdateModal=function(e){a.setState(function(t){return{isShowStatusModal:!t.isShowStatusModal,item:e||{}}})},a.toggleGeneratePDFModal=function(e){a.setState(function(t){return{isShowGeneratePDFModal:!t.isShowGeneratePDFModal,item:e||{}}})},a.toggleDeleteModal=function(){a.setState(function(e){return{isShowDeleteModal:!e.isShowDeleteModal}})},a.showAddNew=function(){a.toggleModalInfo({question:"",answer:"",level:1,type:1},"Create Question")},a.showUpdateModal=function(e){var t=e.answers.map(function(e){return{id:e.id,name:e.content}}),n={id:e.id,question:e.content,answerList:t,level:e.level,type:e.type,answerId:t[0]?t[0].id:""};a.toggleModalInfo(n,"Update Question")},a.showConfirmDelete=function(e){a.setState({itemId:e},function(){return a.toggleDeleteModal()})},a.showUpdateStatusModal=function(e){a.toggleStatusUpdateModal(e)},a.showGeneratePDF=function(){a.toggleGeneratePDFModal({level:1,types:1,quantity:10})},a.getQuestionList=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"status",n=Object.assign({},a.state.params,{query:a.state.query,isDesc:e,sortName:t});a.props.getQuestionList(n)},a.addQuestion=Object(i.a)(s.a.mark(function e(){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k.a.addQuestion(a.state.item);case 3:a.getQuestionList(),a.toggleModalInfo(),Object(N.b)("The question has been created successfully"),e.next=11;break;case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",null);case 11:case"end":return e.stop()}},e,null,[[0,8]])})),a.updateQuestion=Object(i.a)(s.a.mark(function e(){var t;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object.assign({},a.state.item),e.prev=1,e.next=4,k.a.updateQuestion(t);case 4:a.toggleModalInfo(),a.getQuestionList(),Object(N.b)("The question has been updated successfully"),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),Object(N.a)(e.t0.message);case 12:case"end":return e.stop()}},e,null,[[1,9]])})),a.deleteQuestion=Object(i.a)(s.a.mark(function e(){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k.a.deleteQuestion(a.state.itemId);case 3:1===a.props.questionList.questionList.sources.length&&a.setState({params:Object(n.a)({},a.state.params,{skip:a.state.params.skip-1})}),a.toggleDeleteModal(),a.getQuestionList(),Object(N.b)("The question has been deleted successfully"),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),Object(N.a)(e.t0);case 12:case"end":return e.stop()}},e,null,[[0,9]])})),a.updateStatus=Object(i.a)(s.a.mark(function e(){var t,n,l,i,r,o;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=a.state.item,n=t.status,l=t.id,i=t.answers,r={status:n,id:l},3,!(3===n&&i.length>1)){e.next=9;break}if(o=!1,i.forEach(function(e){3===e.status&&(o=!0)}),o){e.next=9;break}return Object(N.a)("Please select right answer before appove"),e.abrupt("return");case 9:return e.prev=9,e.next=12,k.a.updateStatus(r);case 12:a.toggleStatusUpdateModal(),a.getQuestionList(),Object(N.b)("The status has been updated successfully"),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(9),Object(N.a)(e.t0);case 20:case"end":return e.stop()}},e,null,[[9,17]])})),a.generatePDF=Object(i.a)(s.a.mark(function e(){var t,n,l,i,r,o;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.state.item,n=t.level,l=t.types,i=t.quantity,r={level:n,types:l,quantity:i},console.log(r),a.onDismissAlert(),e.prev=4,e.next=7,w.a.generatePDF(r);case 7:o=e.sent,a.setState({pdfLink:o,alertVisible:!0}),a.toggleGeneratePDFModal(),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(4),Object(N.a)(e.t0);case 15:case"end":return e.stop()}},e,null,[[4,12]])})),a.saveQuestion=function(){a.state.item.id?a.updateQuestion():a.addQuestion()},a.search=function(e){a.setState({params:Object(n.a)({},a.state.params,{skip:1}),query:e.target.value},function(){a.getQuestionList()})},a.onSearchChange=function(e){e.persist(),a.delayedCallback(e)},a.handleSort=function(e){var t=a.state.isDesc;a.setState({isDesc:!t,sortName:e,activeSort:e},function(){return a.getQuestionList(a.state.isDesc,a.state.sortName)})},a.state={isShowDeleteModal:!1,isShowInfoModal:!1,isShowStatusModal:!1,isShowGeneratePDFModal:!1,item:{},itemId:null,params:{skip:Y.a.initialPage,take:Y.a.defaultTake},query:"",isDesc:!1,sortName:"status",activeSort:"status",alertVisible:!1},a.delayedCallback=D.a.debounce(a.search,1e3),a.onDismissAlert=a.onDismissAlert.bind(Object(d.a)(Object(d.a)(a))),a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"onDismissAlert",value:function(){this.setState({alertVisible:!1})}},{key:"onUpdateStatus",value:function(e){e.preventDefault(),this.form.validateAll(),this.updateStatus()}},{key:"onGeneratePDF",value:function(e){e.preventDefault(),this.form.validateAll(),this.generatePDF()}},{key:"onSubmit",value:function(e){e.preventDefault(),this.form.validateAll(),this.saveQuestion()}},{key:"componentDidMount",value:function(){this.getQuestionList()}},{key:"render",value:function(){var e=this,t=this.state,a=t.isShowDeleteModal,n=t.isShowInfoModal,l=t.item,s=this.props.questionList.questionList,i=s.sources,r=s.pageIndex,o=s.totalPages,c=s.sources&&s.sources.length>0;return f.a.createElement("div",{className:"animated fadeIn"},f.a.createElement(b.a,{clickOk:this.deleteQuestion,isShowModal:a,toggleModal:this.toggleDeleteModal}),f.a.createElement(R,{color:"primary",isOpen:this.state.alertVisible,toggle:this.onDismissAlert,fade:!1},"PDF File Generate Success, You Can Check ",f.a.createElement("a",{href:this.state.pdfLink,className:"alert-link"},"Here")),f.a.createElement(z.a,{isOpen:this.state.isShowStatusModal,toggle:this.toggleStatusUpdateModal},f.a.createElement(_.a,null,"Update Status"),f.a.createElement(B.a,null,f.a.createElement(v.a,{onSubmit:function(t){return e.onUpdateStatus(t)},ref:function(t){e.form=t}},f.a.createElement(J.a,null,f.a.createElement(S.a,{name:"status",title:"Status",nameField:"nameField",valueField:"valueField",value:l.status,onChange:this.onModelChange,options:[{id:1,name:"Pending"},{id:2,name:"Rejected"},{id:3,name:"Approved"}],required:!0}),f.a.createElement("div",{className:"text-center"},f.a.createElement(V.a,{className:" btn-primary",type:"submit"},"Confirm ")," ",f.a.createElement(V.a,{className:"btn-danger",onClick:this.toggleStatusUpdateModal},"Cancel ")))))),f.a.createElement(z.a,{isOpen:this.state.isShowGeneratePDFModal,toggle:this.toggleGeneratePDFModal},f.a.createElement(_.a,null,"Generate PDF"),f.a.createElement(B.a,null,f.a.createElement(v.a,{onSubmit:function(t){return e.onGeneratePDF(t)},ref:function(t){e.form=t}},f.a.createElement(J.a,null,f.a.createElement(S.a,{name:"level",title:"Level",nameField:"nameField",valueField:"valueField",value:l.level,onChange:this.onModelChange,options:[{id:1,name:"Fresher"},{id:2,name:"Junior"},{id:3,name:"Senior"}],required:!0}),f.a.createElement(S.a,{name:"types",title:"Type",nameField:"nameField",valueField:"valueField",value:l.types,onChange:this.onModelChange,options:[{id:1,name:"BackEnd"},{id:2,name:"FrontEnd"},{id:3,name:"Design"},{id:4,name:"Testing"}],required:!0}),f.a.createElement(S.a,{name:"quantity",title:"Quantity",nameField:"nameField",valueField:"valueField",value:l.quantity,onChange:this.onModelChange,options:[{id:10,name:"10"},{id:20,name:"20"},{id:30,name:"30"},{id:40,name:"40"}],required:!0}),f.a.createElement("div",{className:"text-center"},f.a.createElement(V.a,{className:" btn-primary",type:"submit"},"Confirm ")," ",f.a.createElement(V.a,{className:"btn-danger",onClick:this.toggleGeneratePDFModal},"Cancel ")))))),f.a.createElement(C.a,{size:"lg",title:this.state.formTitle,isShowModal:n,hiddenFooter:!0},f.a.createElement("div",{className:"modal-wrapper"},f.a.createElement("div",{className:"form-wrapper"},f.a.createElement(v.a,{onSubmit:function(t){return e.onSubmit(t)},ref:function(t){e.form=t}},f.a.createElement(J.a,null,f.a.createElement(y.a,{name:"question",title:"Question",type:"text",onChange:this.onModelChange,value:l.question,required:!0}),this.state.item.id?f.a.createElement(S.a,{name:"answerId",title:"Best Answer",nameField:"nameField",valueField:"valueField",onChange:this.onModelChange,value:l.answerId,options:l.answerList}):f.a.createElement(y.a,{name:"answer",title:"Answer",type:"text",onChange:this.onModelChange,value:l.answer,required:!0})),f.a.createElement(H.a,null,f.a.createElement(X.a,{xs:"6",sm:"6",md:"6",lg:"6"},f.a.createElement(J.a,null,f.a.createElement(S.a,{name:"level",title:"Level",nameField:"nameField",valueField:"valueField",onChange:this.onModelChange,value:l.level,options:[{id:1,name:"Fresher"},{id:2,name:"Junior"},{id:3,name:"Senior"}]}))),f.a.createElement(X.a,{xs:"6",sm:"6",md:"6",lg:"6"},f.a.createElement(J.a,null,f.a.createElement(S.a,{name:"type",title:"Type",nameField:"nameField",valueField:"valueField",value:l.type,onChange:this.onModelChange,options:[{id:1,name:"BackEnd"},{id:2,name:"FrontEnd"},{id:3,name:"Design"},{id:4,name:"Testing"}],required:!0})))),f.a.createElement("div",{className:"text-center"},f.a.createElement(V.a,{className:" btn-primary",type:"submit"},"Confirm ")," ",f.a.createElement(V.a,{className:"btn-danger",onClick:this.toggleModalInfo},"Cancel ")))))),f.a.createElement("div",{className:"animated fadeIn"},f.a.createElement(H.a,{className:"flex-container header-table"},f.a.createElement(X.a,{xs:"5",sm:"5",md:"5",lg:"5"},f.a.createElement(V.a,{onClick:this.showAddNew,className:"btn btn-success btn-sm"}," Create "),f.a.createElement(V.a,{onClick:this.showGeneratePDF,className:"btn btn-warning btn-sm"}," GeneratePDF ")),f.a.createElement(X.a,{xs:"5",sm:"5",md:"5",lg:"5"},f.a.createElement("input",{onChange:this.onSearchChange,className:"form-control form-control-sm custom_search",placeholder:"Searching..."}))),f.a.createElement(K.a,{responsive:!0,bordered:!0,className:"react-bs-table react-bs-table-bordered data-table"},f.a.createElement("thead",null,f.a.createElement("tr",{className:"table-header"},f.a.createElement("th",null,"STT"),f.a.createElement("th",{className:"sort-column",onClick:function(){return e.handleSort("question")}},"Question",f.a.createElement("i",{className:"".concat("question"===this.state.activeSort?"active-sort":"disactive-sort"," \n                                        ").concat(this.state.isDesc?"fa fa-caret-up fa-lg":"fa fa-caret-down fa-lg")})),f.a.createElement("th",null,"Answer"),f.a.createElement("th",{className:"sort-column",onClick:function(){return e.handleSort("level")}},"Level",f.a.createElement("i",{className:"".concat("level"===this.state.activeSort?"active-sort":"disactive-sort"," \n                                        ").concat(this.state.isDesc?"fa fa-caret-up fa-lg":"fa fa-caret-down fa-lg")})),f.a.createElement("th",{className:"sort-column",onClick:function(){return e.handleSort("type")}},"Type",f.a.createElement("i",{className:"".concat("type"===this.state.activeSort?"active-sort":"disactive-sort"," \n                                        ").concat(this.state.isDesc?"fa fa-caret-up fa-lg":"fa fa-caret-down fa-lg")})),f.a.createElement("th",{className:"custom_action"},"Action"),f.a.createElement("th",{className:"sort-column",onClick:function(){return e.handleSort("status")}},"Status",f.a.createElement("i",{className:"".concat("status"===this.state.activeSort?"active-sort":"disactive-sort"," \n                                        ").concat(this.state.isDesc?"fa fa-caret-up fa-lg":"fa fa-caret-down fa-lg")})))),f.a.createElement("tbody",null,c&&i.map(function(t,a){return f.a.createElement("tr",{className:"table-row",key:a},f.a.createElement("td",null," ",s.pageIndex*s.pageSize-s.pageSize+ ++a),f.a.createElement("td",null,t.content),f.a.createElement("td",null," ",t.answers.map(function(e){return f.a.createElement("p",null,2===e.status?f.a.createElement("i",{className:"fa fa-times",style:{color:"red"},"aria-hidden":"true"}):3===e.status?f.a.createElement("i",{className:"fa fa-check",style:{color:"green"},"aria-hidden":"true"}):f.a.createElement("i",{className:"fa fa-spinner",style:{color:"orange"},"aria-hidden":"true"}),"\xa0 ",e.content)})),f.a.createElement("td",null,t.levelText),f.a.createElement("td",null,t.typeText),f.a.createElement("td",null,f.a.createElement(V.a,{className:"btn btn-primary fa fa-pencil",onClick:function(){return e.showUpdateModal(t)}}),f.a.createElement(V.a,{className:"btn btn-danger fa fa-trash",onClick:function(){return e.showConfirmDelete(t.id)}})),f.a.createElement("td",{onClick:function(){return e.showUpdateStatusModal(t)}},2===t.status?f.a.createElement(V.a,{className:"status_button",color:"secondary"}," Reject "):3===t.status?f.a.createElement(V.a,{className:"status_button",color:"success"}," Approve "):f.a.createElement(V.a,{className:"status_button",color:"info"}," Pending ")))}))),c&&o>1&&f.a.createElement(E.a,{initialPage:0,totalPages:o,forcePage:r-1,pageRangeDisplayed:2,onPageChange:this.handlePageClick})))}}]),t}(p.Component);t.default=Object(g.b)(function(e){return{questionList:e.questionList}},{getQuestionList:M.d})(W)}}]);
//# sourceMappingURL=23.dae9d7ec.chunk.js.map