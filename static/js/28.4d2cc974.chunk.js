(window.webpackJsonp=window.webpackJsonp||[]).push([[28],{390:function(e,t,a){"use strict";var n=a(3),l=a.n(n),r=a(856),c=a(841),i=a(839),s=a(840),m=a(430);t.a=function(e){var t=e.size,a=e.isShowModal,n=e.toggleModal,o=e.children,u=e.title,p=e.okText,d=e.cancelText,f=e.clickOK,h=e.showCancel,g=void 0===h||h,E=e.clickCancel,b=(e.extraInfoLabel,e.hiddenFooter);return l.a.createElement(r.a,{isOpen:a,toggle:n,size:t},l.a.createElement(c.a,null,u),l.a.createElement(i.a,null,o),!b&&l.a.createElement(s.a,{className:"justify-content-center"},l.a.createElement(m.a,{color:"danger",onClick:f||n},p||"X\xe1c nh\u1eadn")," ",g&&l.a.createElement(m.a,{color:"secondary",onClick:E||n},d||"H\u1ee7y b\u1ecf")))}},391:function(e,t,a){"use strict";a.d(t,"a",function(){return p});var n=a(9),l=a(10),r=a(71),c=a(70),i=a(72),s=a(3),m=a.n(s),o=a(408),u=a.n(o),p=(a(392),function(e){function t(){return Object(n.a)(this,t),Object(r.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(i.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.totalPages,a=e.initialPage,n=e.forcePage,l=e.pageRangeDisplayed,r=e.onPageChange;return t>0&&m.a.createElement(u.a,{disableInitialCallback:!0,initialPage:a,forcePage:n,previousLabel:m.a.createElement("i",{className:"fa fa-chevron-left","aria-hidden":"true"}),nextLabel:m.a.createElement("i",{className:"fa fa-chevron-right","aria-hidden":"true"}),breakLabel:"...",pageClassName:"page-item",pageLinkClassName:"page-link",previousClassName:"page-item",previousLinkClassName:"page-link",nextClassName:"page-item",nextLinkClassName:"page-link",pageCount:t,marginPagesDisplayed:2,pageRangeDisplayed:l||1,onPageChange:r,containerClassName:"pagination",activeLinkClassName:"active",activeClassName:"active"})}}]),t}(s.Component))},392:function(e,t,a){},393:function(e,t,a){"use strict";a.d(t,"a",function(){return n});var n={defaultTake:10,initialPage:1}},401:function(e,t,a){"use strict";var n=a(3),l=a.n(n),r=a(574),c=a(573),i=a(431),s=a.n(i),m=a(432),o=function(e){if(Object(m.isEmpty)(e))return l.a.createElement("small",{className:"form-text text-danger"},"This field is required!")},u=function(e){var t=e.disabled,a=e.inputClass,n=e.title,i=e.type,m=e.name,u=e.max,p=e.placeholder,d=e.value,f=e.onChange,h=e.required,g=e.validations,E=e.accept;return g||(g=[]),h&&g.unshift(o),l.a.createElement(r.a,null,l.a.createElement(c.a,{className:"label-input",for:m},l.a.createElement("strong",null,n," ")," ",h&&l.a.createElement("span",{className:"text-danger"},"*")),l.a.createElement(s.a,{disabled:t,id:m,name:m,max:u,value:""+d,onChange:f,type:i,placeholder:p,className:"form-control ".concat(a),validations:g,accept:E}))};u.defaultProps={title:"",type:"text",name:"",placeholder:""},t.a=u},844:function(e,t,a){"use strict";a.r(t);var n=a(2),l=a.n(n),r=a(61),c=a(73),i=a(9),s=a(10),m=a(71),o=a(70),u=a(72),p=a(3),d=a.n(p),f=a(152),h=a(55),g=a(393),E=a(428),b=a(429),v=a(574),C=a(573),N=a(412),k=a(430),y=a(842),x=a(391),j=a(409),w=a.n(j),O=a(655),T=a.n(O),S=a(401),A=a(405),M=a.n(A),L=a(86),P=a(390),I=a(226),F=a(656),D=(a(658),function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(m.a)(this,Object(o.a)(t).call(this,e))).getEmailTemplateList=function(){var e=Object.assign({},a.state.params,{query:a.state.query,sortName:a.state.sortName,isDesc:a.state.isDesc});a.setState({item:{}}),a.props.getEmailTemplateList(e)},a.search=function(e){a.setState({params:Object(c.a)({},a.state.params,{skip:1}),query:e.target.value},function(){a.getEmailTemplateList()})},a.onSearchChange=function(e){e.persist(),a.delayedCallback(e)},a.onModelChange=function(e){var t=e.target.name,n={};n="templateAttachments"===t?e.target.files:e.target.value;var l=Object(c.a)({},a.state.item);l[t]=n,a.setState({item:l})},a.onEditerChange=function(e){var t=Object(c.a)({},a.state.item);t.body=e.editor.getData(),a.setState({item:t})},a.onEmailChange=function(e,t){var n=Object(c.a)({},a.state.item);n[t]=e.join(" "),a.setState({item:n})},a.uploadFile=function(){var e=Object(r.a)(l.a.mark(function e(t){var a,n,r,c,i,s,m,o;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t){e.next=5;break}a=[],e.next=18;break;case 5:if(!(t.length>1)){e.next=11;break}return e.next=8,I.a.uploadFiles("templateAttachment",t);case 8:a=e.sent,e.next=14;break;case 11:return e.next=13,I.a.uploadFile("templateAttachment",t[0]);case 13:a=e.sent;case 14:for(n=t.length,r=[],c=0;c<n;c++)i=t[c].name,s=i.lastIndexOf("."),m=i.substring(s,i.length),o=i.substring(0,s),r.push({link:n>1?a[c]:a,fileName:o,extension:m});return e.abrupt("return",r);case 18:e.next=22;break;case 20:e.prev=20,e.t0=e.catch(0);case 22:case"end":return e.stop()}},e,null,[[0,20]])}));return function(t){return e.apply(this,arguments)}}(),a.removeFile=function(){a.setState({item:Object(c.a)({},a.state.item,{templateAttachments:[]})})},a.updateEmailTemplate=Object(r.a)(l.a.mark(function e(){var t,n;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=Object.assign({},a.state.item),n=a.state.item.templateAttachments,!(t.templateAttachments&&t.templateAttachments.length>0)||t.templateAttachments[0].link){e.next=6;break}return e.next=5,a.uploadFile(n);case 5:t.templateAttachments=e.sent;case 6:return e.prev=6,e.next=9,I.a.updateEmailTemplate(t);case 9:a.toggleModalInfo(),a.getEmailTemplateList(),Object(L.b)("The email template has been updated successfully"),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(6),Object(L.a)(e.t0);case 17:case"end":return e.stop()}},e,null,[[6,14]])})),a.toggleModalInfo=function(e,t){!0===a.state.isShowInfoModal&&(e={}),a.setState(function(a){return{isShowInfoModal:!a.isShowInfoModal,item:e||{},formTitle:t}})},a.showUpdateModal=function(e){a.toggleModalInfo(e,"Update Email Template")},a.sort=function(e){var t=e===a.state.sortName||""===a.state.sortName;a.setState({params:Object(c.a)({},a.state.params,{skip:1}),sortName:e,isDesc:!!t&&!a.state.isDesc},function(){return a.getEmailTemplateList()})},a.handlePageClick=function(e){a.setState({params:Object(c.a)({},a.state.params,{skip:e.selected+1})},function(){return a.getEmailTemplateList()})},a.componentDidMount=function(){a.getEmailTemplateList()},a.state={isShowInfoModal:!1,formTitle:"",item:{},params:{skip:g.a.initialPage,take:g.a.defaultTake},sortName:"",isDesc:!1,query:""},a.delayedCallback=w.a.debounce(a.search,1e3),a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"onSubmit",value:function(e){e.preventDefault(),this.form.validateAll(),this.updateEmailTemplate()}},{key:"render",value:function(){var e=this,t=this.state,a=t.item,n=t.isShowInfoModal,l=this.props.emailTemplateList.emailTemplateList,r=l.sources,c=l.sources&&l.sources.length>0,i=l.pageIndex,s=l.totalPages;return d.a.createElement("div",null,d.a.createElement(P.a,{size:"lg",title:this.state.formTitle,isShowModal:n,hiddenFooter:!0},d.a.createElement("div",{className:"modal-wrapper"},d.a.createElement("div",{className:"form-wrapper"},d.a.createElement(M.a,{onSubmit:function(t){return e.onSubmit(t)},ref:function(t){e.form=t}},d.a.createElement(E.a,null,d.a.createElement(b.a,null,d.a.createElement(S.a,{name:"name",title:"Name",type:"text",required:!0,value:a.name,onChange:this.onModelChange})),d.a.createElement(b.a,null,d.a.createElement(S.a,{name:"type",title:"Type",type:"text",required:!0,value:1===a.type?"Job":2===a.type?"Interview":3===a.type?"Calendar":null,disabled:!0}))),d.a.createElement(E.a,null,d.a.createElement(b.a,null,d.a.createElement(S.a,{name:"from",title:"From",type:"email",required:!0,value:a.from,onChange:this.onModelChange})),d.a.createElement(b.a,null,d.a.createElement(S.a,{name:"fromName",title:"From Name",type:"text",required:!0,value:a.fromName,onChange:this.onModelChange}))),d.a.createElement(E.a,null,d.a.createElement(b.a,null,d.a.createElement(S.a,{name:"subject",title:"Subject",type:"text",required:!0,value:a.subject,onChange:this.onModelChange}))),d.a.createElement(E.a,null,d.a.createElement(b.a,null,d.a.createElement(v.a,null,d.a.createElement(C.a,{className:"label-input"},d.a.createElement("strong",null," Cc")),d.a.createElement(F.ReactMultiEmail,{emails:a.cc?a.cc.split(" "):[],onChange:function(t){return e.onEmailChange(t,"cc")},validateEmail:function(e){return Object(F.isEmail)(e)},getLabel:function(e,t,a){return d.a.createElement("div",{"data-tag":!0,key:t},e,d.a.createElement("span",{"data-tag-handle":!0,onClick:function(){return a(t)}},"\xd7"))}})))),d.a.createElement(E.a,null,d.a.createElement(b.a,null,d.a.createElement(v.a,null,d.a.createElement(C.a,{className:"label-input"},d.a.createElement("strong",null," Bcc")),d.a.createElement(F.ReactMultiEmail,{emails:a.bcc?a.bcc.split(" "):[],onChange:function(t){return e.onEmailChange(t,"bcc")},validateEmail:function(e){return Object(F.isEmail)(e)},getLabel:function(e,t,a){return d.a.createElement("div",{"data-tag":!0,key:t},e,d.a.createElement("span",{"data-tag-handle":!0,onClick:function(){return a(t)}},"\xd7"))}})))),d.a.createElement(E.a,null,d.a.createElement(b.a,null,d.a.createElement(v.a,null,d.a.createElement(C.a,{for:"examplePicture"},d.a.createElement("strong",null,"Attachment: ")),a.templateAttachments&&a.templateAttachments.length>0&&a.templateAttachments[0].link?d.a.createElement(E.a,null,d.a.createElement(b.a,{lg:"10"},a.templateAttachments.map(function(e,t){return d.a.createElement(N.a,{key:t,name:"templateAttachments",title:"Attachment",defaultValue:e.fileName,disabled:!0,type:"text"})})),d.a.createElement(b.a,{lg:"2"},d.a.createElement("i",{className:"fa fa-times-circle fa-2x",onClick:this.removeFile,"aria-hidden":"true"}))):d.a.createElement(N.a,{name:"templateAttachments",title:"Attachment",type:"file",multiple:!0,onChange:this.onModelChange})))),d.a.createElement(v.a,null,d.a.createElement(C.a,null,d.a.createElement("strong",null,"Content "),d.a.createElement("span",{className:"text-danger"},"*")),d.a.createElement(T.a,{data:a.body,onChange:this.onEditerChange,config:{extraPlugins:"divarea"}})),d.a.createElement("div",{className:"text-center "},d.a.createElement(k.a,{className:" btn-primary",type:"submit"}," Confirm ")," ",d.a.createElement(k.a,{className:"btn-danger",onClick:this.toggleModalInfo}," Cancel ")))))),d.a.createElement("div",{className:"animated fadeIn"},d.a.createElement(E.a,{className:"flex-container header-table"},d.a.createElement(b.a,{xs:"5",sm:"5",md:"5",lg:"5"}),d.a.createElement(b.a,{xs:"5",sm:"5",md:"5",lg:"5"},d.a.createElement("input",{onChange:this.onSearchChange,className:"form-control form-control-sm custom_search",placeholder:"Searching..."}))),d.a.createElement(y.a,{responsive:!0,bordered:!0,className:"react-bs-table react-bs-table-bordered data-table",style:{wordBreak:"break-word"}},d.a.createElement("thead",null,d.a.createElement("tr",{className:"table-header"},d.a.createElement("th",null,"STT"),d.a.createElement("th",null,d.a.createElement("div",{className:"d-flex"}," Name ",d.a.createElement("i",{onClick:function(){return e.sort("Name")},className:"".concat(!this.state.isDesc||"Name"!==this.state.sortName&&""!==this.state.sortName?"fa fa-caret-down fa-lg":"fa fa-caret-up fa-lg"," ").concat("Name"===this.state.sortName||""===this.state.sortName?"active-sort":"disactive-sort"," ")}))),d.a.createElement("th",null,"Type"),d.a.createElement("th",null,"Subject"),d.a.createElement("th",null,"From"),d.a.createElement("th",null,d.a.createElement("div",{className:"d-flex"},"FromName ",d.a.createElement("i",{onClick:function(){return e.sort("FromName")},className:"".concat(this.state.isDesc&&"FromName"===this.state.sortName?"fa fa-caret-up fa-lg":"fa fa-caret-down fa-lg"," ").concat("FromName"===this.state.sortName?"active-sort":"disactive-sort"," ")}))),d.a.createElement("th",null,"CC"),d.a.createElement("th",null,"BCC"),d.a.createElement("th",null,"Attachments"),d.a.createElement("th",{className:"custom_action"},"Action"))),d.a.createElement("tbody",null,c&&r.map(function(t,a){return d.a.createElement("tr",{className:"table-row",key:a},d.a.createElement("td",null," ",0!==l.pageIndex?l.pageIndex*l.pageSize-l.pageSize+ ++a:++a),d.a.createElement("td",null," ",t.name," "),d.a.createElement("td",{style:{whiteSpace:"nowrap"}}," ",1===t.type?"Job":2===t.type?"Interview":3===t.type?"Calendar":null," "),d.a.createElement("td",null," ",t.subject," "),d.a.createElement("td",null," ",t.from," "),d.a.createElement("td",null," ",t.fromName," "),d.a.createElement("td",{style:{textAlign:"left"}}," ",t.cc.split(" ").map(function(e,t){return e}).join(", ")," "),d.a.createElement("td",{style:{textAlign:"left"}}," ",t.bcc.split(" ").map(function(e,t){return e}).join(", ")," "),d.a.createElement("td",{style:{textAlign:"left"}}," ",t.templateAttachments.map(function(e,t){return d.a.createElement(p.Fragment,{key:t},t+1,". ",d.a.createElement("a",{href:e.link,target:"_blank",rel:"noopener noreferrer",download:!0},"".concat(e.fileName).concat(e.extension)),d.a.createElement("br",null))})," "),d.a.createElement("td",null,d.a.createElement("div",null,d.a.createElement(k.a,{className:"btn btn-primary fa fa-pencil",onClick:function(){return e.showUpdateModal(t)}}))))}))),c&&s>1&&d.a.createElement(x.a,{totalPages:s,page:i,initialPage:0,forcePage:i-1,pageRangeDisplayed:2,onPageChange:this.handlePageClick})))}}]),t}(p.Component)),q={getEmailTemplateList:h.d};t.default=Object(f.b)(function(e){return{emailTemplateList:e.emailTemplateList}},q)(D)}}]);
//# sourceMappingURL=28.4d2cc974.chunk.js.map